<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Critical for iPhone layout/safe areas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Document</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">

  <style>
   :root {
  --bg1:#0d1b2a; 
  --bg2:#1b263b; 
  --bg3:#415a77;
  --glass: rgba(255,255,255,0.18);
  --ink:#000; /* Set default text color to black */
}


    /* Remove iOS tap highlight */
    * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }

    html, body {
      height: 100%;
    }

    body {
      margin: 0;
      background: radial-gradient(circle, var(--bg1), var(--bg2), var(--bg3));
      font-family: 'Dancing Script', cursive;
      display: flex;
      justify-content: center;
      align-items: center;
      /* Use small viewport unit to avoid Safari address bar jump */
      min-height: 100svh;
      overflow: hidden;
      position: relative;
      color: var(--ink);
    }

    /* Fullscreen starfield behind everything */
    .stars {
      position: fixed; /* fixed prevents scroll-jitter on iOS */
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      display: block;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: min(92%, 600px);
      /* Height respects iPhone UI; subtract padding to avoid overflow */
      max-height: calc(100svh - 32px);
      overflow: hidden;
      padding: 16px;
      border-radius: 16px;
      background: var(--glass);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px); /* iPhone Safari */
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    .scroll {
      width: 100%;
      max-height: 100%;
      overflow-y: auto;
      padding-right: 6px; /* space for scrollbar overlay */
      -webkit-overflow-scrolling: touch; /* iOS momentum scroll */
    }

    .photo {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.25);
      margin-bottom: 16px;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      display: block;
    }
    .photo:hover { transform: scale(1.03); box-shadow: 0 0 40px rgba(255,255,255,0.4); }

    .letter {
      /* Start larger; weâ€™ll gently reduce as it types */
      font-size: 1.7rem;
      line-height: 1.55;
      font-family: 'Roboto', sans-serif;
      color: #000000;
      white-space: pre-wrap;
      word-wrap: break-word;
      text-align: left;
      transition: font-size 0.2s ease-in-out;
      padding-bottom: 8px;
    }

    @media (max-width: 768px) {
      .letter { font-size: 1.35rem; }
    }

    /* Safe-area padding for iPhone (not strictly required but nice) */
    .container { padding-top: calc(16px + env(safe-area-inset-top)); }
  </style>
</head>
<body>
  <canvas class="stars" id="stars"></canvas>

  <div class="container">
    <div class="scroll">
      <!-- Keep your image file next to this HTML to avoid CORS issues on iPhone -->
      <img src="hold.jpg" alt="Our Memory" class="photo" decoding="async" loading="eager" />

      <div class="letter" id="loveLetter"></div>
    </div>
  </div>

  <script>
    // ----- Typewriter text (fast, iPhone-safe) -----
    const loveLetter = `
Thankyou so much babe to say yes and be in my life partner for always i know tum mujhe pyr krte but u never express
    this
    i see your efforts your care

    and i promiss in this relation
    you get all happiness all care all kisses all hugs just for you day and night min and sec i know things not same for us
    all time but yes i try
    to make it same for you bcoz i love you soo much bht saara dheer saara bht hi jaada mtlv hadd hai re se be jaada
    in my life i cry for a girl this much tu bolti h na ki family ki vjee se syd mujhe pasand krte ho thats a second
    part jb mene start mai aapse baat krri mujhe aap tbse psand the i want ki ye meri life mai permanent rhe always
    saath rhe taaki mai always preshaan krta rhu tujhe i know thing are change from time to time but my love my care are
    remain same for you babe

    Yours, forever and always,

Yours, forever and always,
Aakash
`;
    const letterEl = document.getElementById('loveLetter');
    let idx = 0;
    let sizeRem = 1.7; // initial

    function typeNext() {
      if (idx < loveLetter.length) {
        // Use textContent for speed, but preserve newlines via CSS white-space: pre-wrap
        letterEl.textContent += loveLetter.charAt(idx++);
        // gentle shrink after 30% of text
        if (idx > loveLetter.length * 0.3) {
          sizeRem = Math.max(1.05, sizeRem - 0.0018);
          letterEl.style.fontSize = sizeRem + 'rem';
        }
        setTimeout(typeNext, 28); // speed tweak for iPhone
      }
    }
    // Kick off typing after fonts are ready (iOS font swap safety)
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(typeNext);
    } else { typeNext(); }

    // ----- Retina-sharp starfield for iPhone -----
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      const ratio = Math.max(1, Math.min(3, window.devicePixelRatio || 1));
      // CSS size
      const cssW = canvas.clientWidth;
      const cssH = canvas.clientHeight;
      // Backing store size (scaled for DPR)
      canvas.width = Math.floor(cssW * ratio);
      canvas.height = Math.floor(cssH * ratio);
      ctx.setTransform(ratio, 0, 0, ratio, 0, 0); // draw in CSS pixels
    }

    function randomStars(n) {
      const stars = [];
      for (let i = 0; i < n; i++) {
        stars.push({
          x: Math.random() * canvas.clientWidth,
          y: Math.random() * canvas.clientHeight,
          r: Math.random() * 1.8 + 0.2,
          a: Math.random() * 0.6 + 0.2,         // base alpha
          p: Math.random() * Math.PI * 2,       // phase
          s: 0.8 + Math.random() * 0.6          // twinkle speed
        });
      }
      return stars;
    }

    let stars = [];
    function draw() {
      ctx.clearRect(0, 0, canvas.clientWidth, canvas.clientHeight);
      for (const st of stars) {
        st.p += 0.02 * st.s;
        const alpha = st.a + Math.sin(st.p) * 0.2; // twinkle
        ctx.beginPath();
        ctx.arc(st.x, st.y, st.r, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255,255,255,${Math.max(0, Math.min(1, alpha))})`;
        ctx.fill();
      }
      requestAnimationFrame(draw);
    }

    function initStars() {
      resizeCanvas();
      stars = randomStars(220);
      draw();
    }

    // iPhone-safe resize handling (debounced)
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(initStars, 120);
    }, { passive: true });

    // Handle orientation changes correctly
    window.addEventListener('orientationchange', () => {
      setTimeout(initStars, 200);
    });

    // Kick things off
    initStars();
  </script>
</body>
</html>




